---
layout: post
title: R语言笔记(1) - R语言中的基本操作
description: 一些基本的语法，不涉及控制结构
category: post
tags: R语言 笔记
---
## 建立序列
类似`matlab`的语法，使用`:`

	1 : 5 ## 1 2 3 4 5
逆向序列

	5 : 1 ## 5 4 3 2 1
也可以使用`seq()`
	
	seq(1, 5) ## 1 2 3 4 5
要令序列的间隔为0.5，在matlab只需使用语句`1 : 0.5 : 20 `，R中则稍显麻烦

	seq(1, 5, by = 0.5) ##　1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 5.0
如果我们不知道具体间隔，只希望得到固定长度的序列

	seq(1, 5, length = 4) ## 1.000000 2.333333 3.666667 5.000000
使用`rep()`函数也可以得到序列，这个函数的意思是`复制`，所以下面的语句从字面的意思就是重复0这个数字10次，得到长度为10、元素全为0的序列

	rep(0, times = 40) ## 0 0 0 0 0 0 0 0 0 0
`rep()`也可以用向量作为参数

	rep(c(1, 2, 3), times = 3) ## 1 2 3 1 2 3 1 2 3
当参数取`each`时，则是对向量中的每个元素重复n次，再顺序向下排列

	rep(c(0, 1, 2), each = 3) ## 0 0 0 1 1 1 2 2 2

## 子集
所谓子集就是选取数据结构中的一部分元素，可以通过以下三类方式完成。
### 通过`逻辑向量`完成
基本原理是提取出所有逻辑为true的元素。
	
	x <- c(1, NA, 3, NA, 45)
	x[x > 10] ## 10
	x[is.na()] ## 得到的所有元素都是NA
	x[!is.na()] ## 1, 3, 5 
	x[x > 0] ## 1, NA, 3, NA, 45，R中NA类似占位符，同样会出现在结果中
	x[x > 1 & !is.na()] ## 3, 45

### 通过`整数向量`提取
	x <- 11 : 20 ## 11 12 13 14 15 16 17 18 19 20
若向量中都是正整数，提取出以相应值为索引的元素：

	x[c(1, 2, 5)] ##　11 12 15
若向量中都是负整数，提取出除了以向量中相应值为索引的元素之外的所有元素：

	x[c(-1, -2, -5)] ## 13 14 16 17 18 19 20
	x[-c(1, 2, 5)] ## 13 14 16 17 18 19 20，可以把负号放在外面

### 通过`字符串`提取
建立一个向量，每个元素都有自己的名字

	vect <- c("a" = 3, "b" = 2, "c" = 1)
通过`names`函数得到相应的名字

	names(vect) ## "a" "b" "c"
同样的这种带名字的向量也可以这样生成

	vect2 <- c(3, 2, 1)
	names(vect2) <- c("a", "b", "c")
有了上面的向量后，就可以通过名字字符串得到相应的元素

	vect["c"] ## 1
    vect[c("a", "c")] ## 3 1

## 矩阵与数据框
一般的向量对象只存在`长度`，而没有`维数`的概念

	vec <- 1 : 10
    length(vec) ## 10
    dim(vec) ##　null
我们可以给向量指定维数，语法上类似给向量指定`名字`特性

	dim(vec) <- c(2, 5)
	dim(vec) ## 2 5
指定维数特性后的vec实际上已经不是一个向量，而是成为了一个`矩阵`(matrix)。矩阵实际上就是一个普通的向量加上维度的特性

	class(vector) ## "matrix"
我们可以直接用`matrix()`函数得到同样的矩阵

	mat <- matrix(data = 1 : 10, nrow = 2, ncol = 5)
现在假设mat矩阵的第一行标识了实验一的数据，第二行标识了实验二的数据，我们想把“experiment 1”和“experiment 2”这两个字符串标记放在mat矩阵中，由于mat矩阵的元素类型为整数，而我们想放在矩阵中的标记为字符串，并且一个矩阵中的元素必须为相同的类型，所以我们需要采用其他的数据结构来完成这样的工作。

首先将标记放入向量中

	label <- c("experiment 1", "experiment 2")
再使用R中的`数据框`(data frame)结构

	data <- data.frame(label, mat)
数据框允许我们将不同的对象组合起来，`data`中最左边的一列是用于标记每列的字符串向量，右边的则是原始的矩阵数据。对于数据框我们可以采用另一种方式为每一行或列添加标记，现在data中有6列数据，首先定义一个包含6个字符串元素的向量
	
	cnames <- c("c1", "c2", "c3", "c4", "c5", "c6")
然后将这个向量赋给data，使data的每列获得相应的名字

	colnames(myData) <- cnames
最终可以得到如下的结果

				c1 c2 c3 c4 c5 c6
	1 experiment 1  1  3  5  7  9
	2 experiment 2  2  4  6  8 10

